<?xml version="1.0" encoding="UTF-8"?>
<svg width="1120" height="660" viewBox="0 0 1120 660" xmlns="http://www.w3.org/2000/svg" role="img" aria-label="System Architecture: Ingest, Contextual reasoning, Normative adaptation, Traceability / audit">
  <defs>
    <style>
      .panel{fill:#ffffff;stroke:#E5E7EB;stroke-width:2}
      .lane{fill:#FBFDFF;stroke:#D9E2F3;stroke-width:2}
      .pill{fill:#EEF4FF;stroke:#BDD3FF;stroke-width:2}
      .store{fill:#F3F6FA;stroke:#CBD5E1;stroke-width:2}
      .title{font:800 22px/1.2 Inter,ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Arial}
      .subtitle{font:600 13px/1.2 Inter,ui-sans-serif; fill:#475569}
      .laneh{font:800 15px/1.2 Inter,ui-sans-serif}
      .label{font:700 14px/1.2 Inter,ui-sans-serif}
      .muted{font:500 12px/1.2 Inter,ui-sans-serif; fill:#64748B}
      .cap{font:500 13px/1.4 Inter,ui-sans-serif; fill:#334155}
      .arrow{stroke:#94A3B8;stroke-width:2.6;marker-end:url(#m)}
      .num{fill:#0B57D0; font:800 12px/1 Inter,ui-sans-serif; letter-spacing:.04em}
      .chip{fill:#F0FDF4; stroke:#BBF7D0}
      .chiptext{font:700 11px/1.2 Inter,ui-sans-serif; fill:#14532D}
    </style>
    <marker id="m" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
      <path d="M0,0 L12,6 L0,12 z" fill="#94A3B8"/>
    </marker>
  </defs>

  <!-- marco general -->
  <rect x="20" y="20" width="1080" height="560" rx="14" class="panel"/>
  <text x="560" y="54" text-anchor="middle" class="title">System Architecture</text>
  <text x="560" y="74" text-anchor="middle" class="subtitle">Ingest → Contextual reasoning → Normative adaptation → Traceability / audit</text>

  <!-- LANE 1 : INGEST -->
  <rect x="50" y="100" width="1020" height="90" rx="12" class="lane"/>
  <text x="70" y="125" class="laneh">L1 Ingest</text>
  <text x="70" y="145" class="muted">Secure upload · OCR/Parsing · Metadata extraction</text>

  <rect x="360" y="120" width="190" height="48" rx="10" class="pill"/>
  <text x="455" y="148" text-anchor="middle" class="label">Document Intake</text>

  <rect x="570" y="120" width="180" height="48" rx="10" class="pill"/>
  <text x="660" y="148" text-anchor="middle" class="label">Normalization</text>

  <rect x="770" y="120" width="180" height="48" rx="10" class="pill"/>
  <text x="860" y="148" text-anchor="middle" class="label">Entity Extract</text>

  <text x="335" y="148" class="num">L1</text>
  <line x1="560" y1="190" x2="560" y2="215" class="arrow"/>

  <!-- LANE 2 : CONTEXTUAL REASONING -->
  <rect x="50" y="215" width="1020" height="120" rx="12" class="lane"/>
  <text x="70" y="240" class="laneh">L2 Contextual reasoning</text>
  <text x="70" y="259" class="muted">Jurisdiction detect · Retrieval/similarity · Risk & consistency checks (explainable)</text>

  <rect x="190" y="245" width="220" height="58" rx="10" class="pill"/>
  <text x="300" y="279" text-anchor="middle" class="label">Jurisdiction Classifier</text>

  <rect x="430" y="245" width="220" height="58" rx="10" class="pill"/>
  <text x="540" y="279" text-anchor="middle" class="label">Context Retrieval</text>

  <rect x="670" y="245" width="220" height="58" rx="10" class="pill"/>
  <text x="780" y="274" text-anchor="middle" class="label">Reasoning Engine</text>
  <text x="170" y="276" class="num">L2</text>

  <!-- Legal corpus (store) -->
  <ellipse cx="980" cy="263" rx="64" ry="22" class="store"/>
  <rect x="916" y="263" width="128" height="46" class="store"/>
  <ellipse cx="980" cy="309" rx="64" ry="22" class="store"/>
  <text x="980" y="281" text-anchor="middle" class="label">Legal Corpus</text>
  <text x="980" y="302" text-anchor="middle" class="muted">statutes · case law</text>

  <!-- arrow L2->L3 -->
  <line x1="560" y1="335" x2="560" y2="360" class="arrow"/>

  <!-- LANE 3 : NORMATIVE ADAPTATION -->
  <rect x="50" y="360" width="1020" height="120" rx="12" class="lane"/>
  <text x="70" y="385" class="laneh">L3 Normative adaptation</text>
  <text x="70" y="404" class="muted">Clause selection & drafting · Policy rules · Human-in-the-Loop</text>

  <rect x="200" y="392" width="220" height="58" rx="10" class="pill"/>
  <text x="310" y="425" text-anchor="middle" class="label">Clause Recommender</text>

  <rect x="440" y="392" width="220" height="58" rx="10" class="pill"/>
  <text x="550" y="422" text-anchor="middle" class="label">Policy / Rules Engine</text>

  <rect x="680" y="392" width="220" height="58" rx="10" class="pill"/>
  <text x="790" y="415" text-anchor="middle" class="label">Attorney Review</text>
  <text x="790" y="435" text-anchor="middle" class="muted">approval & edits</text>
  <text x="170" y="422" class="num">L3</text>

  <!-- Policy DB (store) -->
  <ellipse cx="120" cy="398" rx="62" ry="22" class="store"/>
  <rect x="58" y="398" width="124" height="44" class="store"/>
  <ellipse cx="120" cy="442" rx="62" ry="22" class="store"/>
  <text x="120" y="418" text-anchor="middle" class="label">Policy DB</text>
  <text x="120" y="438" text-anchor="middle" class="muted">templates · rules</text>

  <!-- Human in the loop chip -->
  <rect x="910" y="390" rx="10" ry="10" width="135" height="28" class="chip"/>
  <text x="978" y="409" text-anchor="middle" class="chiptext">Human-in-the-Loop</text>

  <!-- arrow L3->L4 -->
  <line x1="560" y1="480" x2="560" y2="505" class="arrow"/>

  <!-- LANE 4 : TRACEABILITY -->
  <rect x="50" y="505" width="1020" height="60" rx="12" class="lane"/>
  <text x="70" y="538" class="laneh">L4 Traceability / audit</text>

  <rect x="360" y="514" width="220" height="36" rx="10" class="pill"/>
  <text x="470" y="536" text-anchor="middle" class="label">Provenance Record</text>

  <rect x="600" y="514" width="220" height="36" rx="10" class="pill"/>
  <text x="710" y="536" text-anchor="middle" class="label">Decision Log</text>
  <text x="335" y="536" class="num">L4</text>

  <!-- Audit ledger (store) -->
  <ellipse cx="1005" cy="520" rx="64" ry="20" class="store"/>
  <rect x="941" y="520" width="128" height="36" class="store"/>
  <ellipse cx="1005" cy="556" rx="64" ry="20" class="store"/>
  <text x="1005" y="537" text-anchor="middle" class="label">Audit Ledger</text>
  <text x="1005" y="555" text-anchor="middle" class="muted">WORM / hash-chain</text>

  <!-- caption -->
  <text x="560" y="600" text-anchor="middle" class="cap">
    Figure 3 — Layered (L1–L4) view of ingestion, contextual reasoning, normative adaptation, and traceability/audit.
  </text>
</svg>
